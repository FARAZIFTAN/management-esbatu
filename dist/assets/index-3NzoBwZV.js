const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-Dvk3Gso4.js","assets/react-vendor-Dazix4UH.js","assets/chart-vendor-BsP-YlrR.js","assets/ui-vendor-CLOm81rz.js","assets/forms-7s_-tYJo.js","assets/shared-NcOlNYDt.js","assets/reports-BEUEEyNZ.js","assets/export-vendor-K2nD4sDW.js"])))=>i.map(i=>d[i]);
import{j as e}from"./dashboard-Dvk3Gso4.js";import{r as i}from"./chart-vendor-BsP-YlrR.js";import{a as D}from"./react-vendor-Dazix4UH.js";import{_ as p}from"./export-vendor-K2nD4sDW.js";import{L}from"./shared-NcOlNYDt.js";import{L as N}from"./ui-vendor-CLOm81rz.js";import{T as P}from"./forms-7s_-tYJo.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();var x={},y;function O(){if(y)return x;y=1;var t=D();return x.createRoot=t.createRoot,x.hydrateRoot=t.hydrateRoot,x}var R=O();class A extends i.Component{state={hasError:!1};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Terjadi Kesalahan"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maaf, aplikasi mengalami masalah. Silakan refresh halaman atau hubungi support."}),this.state.error&&!1,e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Muat Ulang Halaman"})})]})})})}):this.props.children}}const C=({size:t="md",className:n="",text:o})=>{const u={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return e.jsx("div",{className:`flex items-center justify-center ${n}`,children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(N,{className:`animate-spin text-blue-600 ${u[t]}`}),o&&e.jsx("p",{className:"text-sm text-gray-600",children:o})]})})},I=({text:t="Memuat..."})=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(C,{size:"lg",text:t})});function j(t,n){const[o,u]=i.useState(()=>{try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):n}catch(r){return console.error(`Error reading localStorage key "${t}":`,r),n}});return[o,r=>{try{const l=r instanceof Function?r(o):r;u(l),window.localStorage.setItem(t,JSON.stringify(l))}catch(l){console.error(`Error setting localStorage key "${t}":`,l)}}]}const E=i.lazy(()=>p(()=>import("./dashboard-Dvk3Gso4.js").then(t=>t.D),__vite__mapDeps([0,1,2,3]))),M=i.lazy(()=>p(()=>import("./forms-7s_-tYJo.js").then(t=>t.S),__vite__mapDeps([4,0,1,2,3]))),T=i.lazy(()=>p(()=>import("./forms-7s_-tYJo.js").then(t=>t.E),__vite__mapDeps([4,0,1,2,3]))),z=i.lazy(()=>p(()=>import("./shared-NcOlNYDt.js").then(t=>t.C),__vite__mapDeps([5,0,1,2,3]))),V=i.lazy(()=>p(()=>import("./reports-BEUEEyNZ.js"),__vite__mapDeps([6,0,1,2,3,4,7])));function $(){const[t,n]=i.useState("dashboard"),[o,u]=j("ice-sales",[]),[s,r]=j("ice-expenses",[]),l=i.useMemo(()=>{const d=o.reduce((h,f)=>h+f.totalPrice,0),a=s.reduce((h,f)=>h+f.amount,0),c=d-a;return{totalIncome:d,totalExpenses:a,balance:c,profit:c}},[o,s]),g=i.useMemo(()=>Array.from({length:7},(a,c)=>{const m=new Date;return m.setDate(m.getDate()-c),m.toISOString().split("T")[0]}).reverse().map(a=>{const c=o.filter(m=>m.date===a).reduce((m,h)=>m+h.totalPrice,0);return{date:a,amount:c}}),[o]),S=d=>{const a={...d,id:`sale-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};u(c=>[a,...c])},_=d=>{u(a=>a.filter(c=>c.id!==d))},v=d=>{const a={...d,id:`expense-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};r(c=>[a,...c])},w=d=>{r(a=>a.filter(c=>c.id!==d))},b=()=>{switch(t){case"dashboard":return e.jsx(E,{stats:l,dailySales:g});case"sales":return e.jsx(M,{sales:o,onAddSale:S,onDeleteSale:_});case"expenses":return e.jsx(T,{expenses:s,onAddExpense:v,onDeleteExpense:w});case"reports":return e.jsx(V,{sales:o,expenses:s});case"cash":return e.jsx(z,{sales:o,expenses:s});default:return e.jsx(E,{stats:l,dailySales:g})}};return e.jsx(A,{children:e.jsx(P,{children:e.jsx(L,{currentPage:t,onPageChange:n,children:e.jsx(i.Suspense,{fallback:e.jsx(I,{text:"Memuat halaman..."}),children:b()})})})})}R.createRoot(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx($,{})}));
